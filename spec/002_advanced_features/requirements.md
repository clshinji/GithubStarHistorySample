# 要件定義 - 高度な可視化機能

## 1. 概要
本スプリントでは、ユーザーが取得したデータをより自由に扱い、比較できるようにするための以下の機能を実装する。
- グラフ・データの外部出力
- 分析軸の多様化（対数、経過日数）

## 2. ユーザーストーリー
- **出力**: 
  - 私は、作成したグラフを資料に貼り付けるために、PNG画像としてダウンロードしたい。
  - 私は、取得した生の数値を自分で詳しく分析するために、CSV形式でダウンロードしたい。
- **分析**:
  - 私は、スター数が桁違いに異なるリポジトリ（例: 10万と1万）の成長率を同時に比較するために、縦軸を対数スケールに切り替えたい。
  - 私は、リポジトリの「誕生からの成長スピード」を純粋に比較するために、絶対時間ではなく「公開日を0日とした経過日数」でグラフを表示したい。

## 3. 機能要件

### 3.1 エクスポート機能
- **画像保存**: Canvasの内容を画像化し、`star-history.png` として保存するボタン。
- **CSV保存**: リポジトリごとの「日付, スター数」のリストをCSV化してダウンロードするボタン。

### 3.2 高度な表示オプション
- **Log scale**: Y軸のスケールを `linear`（線形）と `logarithmic`（対数）で切り替える。
- **Align timeline**: 
  - X軸を「日付」から「経過日数 (Days since created)」に切り替える。
  - すべてのリポジトリの起点を 0 に揃える。

## 4. 検査基準 (Acceptance Criteria)
- PNG画像が正しく生成され、現在のブラウザの表示と一致すること。
- CSVの内容が、グラフのデータポイントと一致していること。
- 対数軸に切り替えた際、10万スターのリポジトリと1万スターのリポジトリが同じスケール感で比較できること。
- タイムライン同期時、リポジトリ作成日の異なるプロジェクトが同じ X=0 から開始されること。
